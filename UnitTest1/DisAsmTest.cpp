
#include "CppUnitTest.h"
#include <iostream>
#include <string>
#include <strstream>
#include <DisAsm\Asm\Asm.h>
using namespace Microsoft::VisualStudio::CppUnitTestFramework;
using namespace std;
namespace UnitTest1
{

	// ≤‚ ‘32Œª≤ø∑÷
	TEST_CLASS(TestDisAsm)
	{

	public:
		TEST_METHOD(DA_Test)
		{
			BYTE code[] = {0x66, 0x55,0x8B,0xEC,0x6A,0xFF,0x68,0xE8,0x65,0x99,0x00,0x64,0xA1,0x00,0x00,0x00,0x00,
				0x50,0x81,0xEC,0x18,0x01,0x00,0x00,0x53,0x56,0x57,0x8D,0xBD,0xDC,0xFE,0xFF,0xFF,
				0xB9,0x46,0x00,0x00,0x00,0xB8,0xCC,0xCC,0xCC,0xCC,0xF3,0xAB,0xA1,0x08,0x11,0x9A,
				0x00,0x33,0xC5,0x89,0x45,0xF0,0x50,0x8D,0x45,0xF4,0x64,0xA3,0x00,0x00,0x00,0x00,
				0xC7,0x45,0xE8,0x01,0x00,0x00,0x00,0x6A,0x34,0x8D,0x4D,0xAC,0xE8,0x1B,0x48,0xFE,
				0xFF,0x6A,0x01,0x8D,0x4D,0xAC,0xE8,0x6B,0x48,0xFE,0xFF,0xC7,0x45,0xFC,0x00,0x00,
				0x00,0x00
			};
			auto fac = make_shared<StateFactory>();
			
			auto ai = make_shared<AsmInstruction>(fac,true,true);
			ai->Init(code);
			OpcodeReader opReader;
			opReader.Read(ai);
		}
	private:

	};
}